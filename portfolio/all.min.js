"use strict";var portfolio=angular.module("portfolio",[]);portfolio.controller("PortfolioController",["$scope",function(t){var e=this,i=moment("1993-08-24 00:00").startOf("minute");this.ageyears=moment().diff(i,"years"),this.agemonths=moment().subtract(this.ageyears,"years").diff(i,"months"),this.ageseconds=moment().subtract(this.ageyears,"years").subtract(this.agemonths,"months").diff(i,"seconds"),setInterval(function(){return t.$apply(function(){return e.ageseconds++})},1e3),this.initialScroll=function(){var t=0;t=$("#intro").offset().top-120+$("#intro")[0].offsetHeight-$(window).height()>$("#intro").offset().top?$("#intro").offset().top-120:$("#intro").offset().top+$("#intro")[0].offsetHeight-$(window).height(),$("html, body").stop().animate({scrollTop:t},800)}}]),portfolio.directive("animejsBanner",[function(){return{restrict:"AE",templateUrl:"js/directives/animejs-banner/animejs-banner.html",link:function(t,e,i,n){var o=new Promise(function(t,i){var n,o,s,a,r,l;Math.ceil(e.width()/88),Math.ceil(e.height()/88);n=o=s=a=0,r=l=88;do e[0].childNodes[0].innerHTML+='\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<article style="width:88px;height:88px;top:'+o+"px;right:"+n+'px">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="blue"></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</article>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t',n<r||o>e.height()-l?(s<e.width()?s+=r:a+=l,o=a,n=s):(n-=r,o+=l);while(n<e.width()||o<e.height());t()});o.then(function(){console.log("finished building squares, so now animate"),anime({targets:"#squares div",rotate:{value:180,duration:1500,easing:"easeInOutQuad"},scale:{value:[0,1],duration:1500,easing:"easeInOutExpo"},loop:!1,complete:function(){e[0].childNodes[0].className+="blue",e[0].childNodes[0].innerHTML=""},direction:"normal",borderRadius:{value:0,duration:2e3,easing:"easeInOutExpo"},delay:function(t,e){return 22*e}})})}}}]),portfolio.directive("bubbleGradient",[function(){return{restrict:"AE",link:function(t,e,i,n){var o=$('<canvas id="bubble-gradient" width="'+e.width()+'" height="'+e.height()+'"></canvas>').css({"z-index":0,position:"absolute"});e.append(o),console.log(t,e,this);var s=document.querySelector("#bubble-gradient"),a=s.getContext("2d"),r=s.width,l=s.height;a.clearRect(0,0,r,l),a.fillStyle="#EEEEEE",a.fillRect(0,0,r,l);var h=function(t,e,i){this.x=t,this.y=e,this.radius=0,this.angle=0,this.full=i};h.prototype.grow=function(){return a.beginPath(),this.radius=this.full*Math.abs(Math.sin(this.angle)),a.arc(r-this.x,this.y,this.radius,0,2*Math.PI,!1),a.closePath(),a.fillStyle="#006699",a.fill(),this.angle+=.01,!(this.radius<this.full)};var c,u,d,f,g,p,m;c=u=d=f=0,g=10,p=l/5,m=l/5;var v=setInterval(function(){var t=new h(c,u,r/5),e=setInterval(function(){t.grow()&&clearInterval(e)},1);c>=r&&u>=l?(console.log("stopping"),clearInterval(v)):c<=0||u>=l?(d<r?(p-=5,d+=p):f+=m,u=f,c=d):(c-=p,u+=m)},g)}}}]);