"use strict";var portfolio=angular.module("portfolio",[]);portfolio.controller("PortfolioController",["$scope",function(t){var e=this,n=moment("1993-08-24 00:00").startOf("minute");this.ageyears=moment().diff(n,"years"),this.agemonths=moment().subtract(this.ageyears,"years").diff(n,"months"),this.ageseconds=moment().subtract(this.ageyears,"years").subtract(this.agemonths,"months").diff(n,"seconds"),setInterval(function(){return t.$apply(function(){return e.ageseconds++})},1e3),this.initialScroll=function(){var t=0;t=$("#intro").offset().top-120+$("#intro")[0].offsetHeight-$(window).height()>$("#intro").offset().top?$("#intro").offset().top-120:$("#intro").offset().top+$("#intro")[0].offsetHeight-$(window).height(),$("html, body").stop().animate({scrollTop:t},800)}}]),portfolio.directive("animejsBanner",["$window",function(t){return console.log(t.braintree),{restrict:"AE",templateUrl:"js/directives/animejs-banner/animejs-banner.html",link:function(t,e,n,i){var o=e[0].querySelector("#loading-squares"),r=new Promise(function(t,e){anime({targets:"#Bsvg path",strokeDashoffset:{easing:"easeInOutExpo",duration:500,value:function(t){var e=t.getTotalLength();return t.setAttribute("stroke-dasharray",e),[-e,0]}},stroke:{value:function(t,e){return"rgb("+2*e+","+8*e+","+12*e+")"},easing:"linear",duration:222},strokeWidth:{value:8,easing:"linear",delay:function(t,e){return 600+8*e},duration:222},delay:function(t,e){return 30*e},duration:1200,easing:"easeOutExpo",loop:!1,direction:"alternate",update:function(e){1==e.reversed&&t()},complete:function(){console.log("finished loadingscreen")}})}),a=e[0].querySelector("#squares"),s=new Promise(function(t,n){var i,o,r,s,l,u;i=o=r=s=0;var h=Math.min(Math.ceil(e.height()/5),122);l=u=h;do a.innerHTML+='\n\t\t\t\t\t\t\t\t\t\t\t\t\t<article style="width:'+l+"px;height:"+u+"px;top:"+o+"px;right:"+i+'px">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</article>\n\t\t\t\t\t\t\t\t\t\t\t\t',i<l||o>e.height()-u?(r<e.width()?r+=l:s+=u,o=s,i=r):(i-=l,o+=u);while(i<e.width()||o<e.height());$("#squares").css("display","block"),console.log("finished building squares"),t()}),l=[r,s];Promise.all(l).then(function(){console.log("finished building loading everything, so now animate"),anime({targets:"#squares div",rotate:{value:180,duration:1500,easing:"easeInOutQuad"},scale:{value:[0,1],duration:1500,easing:"easeInOutExpo"},loop:!1,complete:function(){a.className+="bg-dark",o.innerHTML="",a.innerHTML=""},direction:"normal",borderRadius:{value:0,duration:2e3,easing:"easeInOutExpo"},backgroundColor:"#18212D",delay:function(t,e,n){var i=888;return e*(i/n)}})})}}}]),portfolio.directive("bubbleGradient",[function(){return{restrict:"AE",link:function(t,e,n,i){var o=$('<canvas id="bubble-gradient" width="'+e.width()+'" height="'+e.height()+'"></canvas>').css({"z-index":0,position:"absolute"});e.append(o),console.log(t,e,this);var r=document.querySelector("#bubble-gradient"),a=r.getContext("2d"),s=r.width,l=r.height;a.clearRect(0,0,s,l),a.fillStyle="#EEEEEE",a.fillRect(0,0,s,l);var u=function(t,e,n){this.x=t,this.y=e,this.radius=0,this.angle=0,this.full=n};u.prototype.grow=function(){return a.beginPath(),this.radius=this.full*Math.abs(Math.sin(this.angle)),a.arc(s-this.x,this.y,this.radius,0,2*Math.PI,!1),a.closePath(),a.fillStyle="#006699",a.fill(),this.angle+=.01,!(this.radius<this.full)};var h,c,d,f,g,p,v;h=c=d=f=0,g=10,p=l/5,v=l/5;var m=setInterval(function(){var t=new u(h,c,s/5),e=setInterval(function(){t.grow()&&clearInterval(e)},1);h>=s&&c>=l?(console.log("stopping"),clearInterval(m)):h<=0||c>=l?(d<s?(p-=5,d+=p):f+=v,c=f,h=d):(h-=p,c+=v)},g)}}}]);